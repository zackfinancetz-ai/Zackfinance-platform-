<!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>Upload Project</title><link rel='stylesheet' href='styles.css'></head><body>
<header class="site-header"><div><h1 style="margin:0">ZackFinance</h1></div></header>
<main class="container"><div class="card" style="max-width:720px;margin:18px auto"><h2>Upload Project</h2>
<form id="pform"><label>Title</label><input id="title" class="input" required><label>Budget</label><input id="budget" class="input"><label>Description</label><textarea id="desc" class="input" rows="4"></textarea><label>Image</label><input id="image" type="file" accept="image/*" class="input"><button class="btn" type="submit">Upload</button></form><div id="status" class="small"></div></div></main>
<script src="firebase_core.js"></script>
<script>
document.getElementById('pform').addEventListener('submit', async function(e){
  e.preventDefault();
  const user = auth.currentUser;
  if(!user) return window.location='login.html';
  const title = document.getElementById('title').value.trim();
  const budget = document.getElementById('budget').value.trim();
  const desc = document.getElementById('desc').value.trim();
  const file = document.getElementById('image').files[0];
  let imageUrl = '';
  if(file){
    const path = `project_images/${user.uid}/${Date.now()}_${file.name}`;
    const ref = storage.ref(path);
    await ref.put(file);
    imageUrl = await ref.getDownloadURL();
  }
  await db.collection('projects').add({title,budget,description:desc,ownerUid:user.uid,ownerName:(await currentUserProfile()).name,ownerEmail:user.email,ownerMobile:(await currentUserProfile()).mobile,imageUrl,status:'pending',created:Date.now()});
  document.getElementById('status').textContent='Project uploaded and awaiting admin approval.';
  setTimeout(()=>window.location='entrepreneur_dashboard.html',800);
});
</script></body></html>
