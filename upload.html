<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Upload Project</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="site-header"><div class="container"><h1 class="brand">ZackFinance</h1></div></header>

<main class="container">
  <section class="card">
    <h3>Upload Project</h3>
    <label>Project Title</label>
    <input id="title" type="text" />

    <label>Description</label>
    <textarea id="desc" rows="4"></textarea>

    <label>Project Image (optional)</label>
    <input id="image" type="file" accept="image/*" />

    <button id="saveBtn">Save</button>
    <div id="status" class="small"></div>
  </section>
</main>

<script>
document.getElementById('saveBtn').onclick = async () => {
  const title = title.value.trim();
  const desc = desc.value.trim();
  let imageData = "";

  if(!title || !desc) { alert("Title & description required"); return; }

  if(image.files[0]) {
    imageData = await new Promise(res => {
      const r = new FileReader();
      r.onload = e => res(e.target.result);
      r.readAsDataURL(image.files[0]);
    });
  }

  const raw = localStorage.getItem("zf_projects") || "[]";
  const arr = JSON.parse(raw);
  arr.unshift({title, desc, image: imageData});
  localStorage.setItem("zf_projects", JSON.stringify(arr));
  status.textContent = "Saved!";
};
</script>

</body>
</html>
